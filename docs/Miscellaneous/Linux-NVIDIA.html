<!doctype html>
<html>
<head>
<meta charset="utf-8">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/3.0.1/github-markdown.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.18.1/lib/index.min.js">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markdown-it-texmath@0.6.5/css/texmath.css">
<link rel="stylesheet" href="https://gitcdn.xyz/repo/goessner/mdmath/master/css/vscode-texmath.css">

</head>
<body class="markdown-body">
<pre><code data-line="1" class="code-line"><code><div>yum install http://developer.download.nvidia.com/compute/cuda/repos/rhel8/x86_64/cuda-repo-rhel8-10.2.89-1.x86_64.rpm 
</div></code></code></pre>
<p data-line="5" class="code-line"><a href="https://docs.nvidia.com/cuda/cuda-installation-guide-linux/index.html#runfile-nouveau" data-href="https://docs.nvidia.com/cuda/cuda-installation-guide-linux/index.html#runfile-nouveau">Disabling Nouveau</a></p>
<pre><code data-line="6" class="code-line"><code><div>echo 'blacklist nouveau
options nouveau modeset=0' &gt; /etc/modprobe.d/blacklist-nouveau.conf  
dracut --force
#lsmod | grep nouveau

grub2-mkconfig -o /boot/efi/EFI/centos/grub.cfg
</div></code></code></pre>
<p data-line="15" class="code-line"><a href="https://docs.nvidia.com/cuda/cuda-installation-guide-linux/index.html#runfile-verifications" data-href="https://docs.nvidia.com/cuda/cuda-installation-guide-linux/index.html#runfile-verifications">Device Node Verification</a></p>
<pre><code data-line="16" class="code-line"><code><div>yum install nvidia-driver
# cd /usr/src/460.32.03
# dkms install nvidia/460.32.03
rm /etc/X11/xorg.conf.d/10-nvidia.conf # We should delete this file otherwise the X server can't start up

yum install nvidia-modprobe
modprobe nvidia
modprobe nvidia-uvm
nvidia-modprobe
</div></code></code></pre>
<p data-line="28" class="code-line"><a href="http://download.nvidia.com/XFree86/Linux-x86_64/460.32.03/README/primerenderoffload.html" data-href="http://download.nvidia.com/XFree86/Linux-x86_64/460.32.03/README/primerenderoffload.html">PRIME Render Offload</a><br>
<a href="https://wiki.archlinux.org/index.php/NVIDIA_Optimus#Using_PRIME_render_offload" data-href="https://wiki.archlinux.org/index.php/NVIDIA_Optimus#Using_PRIME_render_offload">Using PRIME render offload</a><br>
<a href="https://github.com/archlinux/svntogit-packages/tree/packages/nvidia-prime/trunk" data-href="https://github.com/archlinux/svntogit-packages/tree/packages/nvidia-prime/trunk">nvidia-prime</a><br>
<a href="https://github.com/archlinux/svntogit-packages/tree/packages/nvidia-utils/trunk" data-href="https://github.com/archlinux/svntogit-packages/tree/packages/nvidia-utils/trunk">nvidia-utils</a></p>
<pre><code data-line="32" class="code-line"><code><div>rm /etc/X11/xorg.conf.d/10-nvidia.conf # We should delete this file otherwise the X server can't start up

echo 'Section &quot;OutputClass&quot;
    Identifier &quot;nvidia&quot;
    MatchDriver &quot;nvidia-drm&quot;
    Driver &quot;nvidia&quot;
    Option &quot;AllowEmptyInitialConfiguration&quot;
EndSection' &gt; /etc/X11/xorg.conf.d/10-nvidia.conf  

# restart X server
# xrandr --listproviders # &quot;NVIDIA-G0&quot; should be listed

export __NV_PRIME_RENDER_OFFLOAD=1
# export __NV_PRIME_RENDER_OFFLOAD_PROVIDER=NVIDIA-G0
export __GLX_VENDOR_LIBRARY_NAME=nvidia
# export __VK_LAYER_NV_optimus=NVIDIA_only
glxinfo | grep NVIDIA
glxgears
vkcube
steam.sh

# yum install nvidia-driver-cuda
# nvidia-smi
</div></code></code></pre>
<p data-line="58" class="code-line"><a href="https://docs.nvidia.com/cuda/nsightee-plugins-install-guide/index.html#install-steps" data-href="https://docs.nvidia.com/cuda/nsightee-plugins-install-guide/index.html#install-steps">Install plugins using Eclipse IDE</a><br>
<a href="https://docs.nvidia.com/cuda/nsight-eclipse-plugins-guide/index.html#import-sample" data-href="https://docs.nvidia.com/cuda/nsight-eclipse-plugins-guide/index.html#import-sample">Importing CUDA Samples</a></p>

</body></html>