# Path Tracing

## Rendering Equation

By "14.4 The Light Transport Equation" of [PBR Book](https://www.pbr-book.org/3ed-2018/Light_Transport_I_Surface_Reflection/The_Light_Transport_Equation), the **Rendering Equation** is also called the **LTE** (**Light Transport Equation**). And we have the **Rendering Equation** $\displaystyle \operatorname{L_V}(p, \overrightarrow{\omega_V}) = \operatorname{L_E}(p, \overrightarrow{\omega_V}) + \int_\Omega \operatorname{f}(p, \overrightarrow{\omega_L}, \overrightarrow{\omega_V}) \operatorname{L_L}(p, \overrightarrow{\omega_L}) (\cos \theta_L)^+ \, d \overrightarrow{\omega_L}$.  

By assuming no **participating media**, the **incident radiance** $\displaystyle \operatorname{L_L}(p, \overrightarrow{\omega_L})$ at one point p is exactly the **exitant radiance** $\displaystyle \operatorname{L_V}(\operatorname{t}(p, \overrightarrow{\omega_L}), -\overrightarrow{\omega_L})$ at another point $\displaystyle \operatorname{t}(p, \overrightarrow{\omega_L})$ where $\displaystyle \operatorname{t}(p, \omega)$ is the **ray-casting function**. This means that both the **incident radiance** $\displaystyle \operatorname{L_L}(p, \omega)$ and the **exitant radiance** $\displaystyle \operatorname{L_V}(p, \omega)$ can be represented by the same function $\displaystyle \operatorname{L}(p, \omega)$. And we have $\displaystyle \operatorname{L}(p, \overrightarrow{\omega_V}) = \operatorname{L_E}(p, \overrightarrow{\omega_V}) + \int_\Omega \operatorname{f}(p, \overrightarrow{\omega_L}, \overrightarrow{\omega_V}) \operatorname{L}(\operatorname{t}(p, \overrightarrow{\omega_L}), -\overrightarrow{\omega_L}) (\cos \theta_L)^+ \, d \overrightarrow{\omega_L}$ which is an **integral equation** in which the **unknown function** is exactly the function $\displaystyle \operatorname{L}(p, \omega)$.  

According to this **integral equation**, by [OSL (Open Shading Language)](https://github.com/AcademySoftwareFoundation/OpenShadingLanguage), the surface and the light are the exactly same thing, since the light is merely the surface which is emissive.  

By "Light transport and the rendering equation" of [CS 348B - Computer Graphics: Image Synthesis Techniques](http://www-graphics.stanford.edu/courses/cs348b-96/transport/transport.html) and "Global Illumination and Rendering Equation" of [CS 294-13 Advanced Computer Graphics](https://inst.eecs.berkeley.edu/~cs294-13/fa09/), this **integral equation** is actually the [Fredholm Integral Equation](https://en.wikipedia.org/wiki/Fredholm_integral_equation) of which the solution is the [Liouvilleâ€“Neumann Series](https://en.wikipedia.org/wiki/Liouville%E2%80%93Neumann_series). And thus, the solution of this **integral equation** can be written as the recursive form $\text{L} = \text{E} + \text{K}\text{E} + {\text{K}}^2\text{E} + {\text{K}}^3\text{E} + \ldots$.  


